<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HydroMonitor - Raspberry Pi Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'hydro-primary': '#10B981',
                        'hydro-secondary': '#059669',
                        'hydro-accent': '#3B82F6',
                        'hydro-warning': '#F59E0B',
                        'hydro-error': '#EF4444',
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    }
                }
            }
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-slate-50 font-inter">
    <!-- @COMPONENT: Header [navigation and system status] -->
    <header class="bg-white shadow-sm border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-seedling text-hydro-primary text-xl"></i>
                        <h1 class="text-xl font-semibold text-slate-900">HydroMonitor</h1>
                    </div>
                    <div class="hidden md:flex items-center space-x-2 text-sm text-slate-600">
                        <div class="flex items-center space-x-1">
                            <div class="w-2 h-2 bg-hydro-primary rounded-full animate-pulse"></div>
                            <span data-bind="connection.status">Connected to Antares</span>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="hidden sm:flex items-center space-x-2 text-sm text-slate-600">
                        <i class="fas fa-microchip text-slate-400"></i>
                        <span data-bind="device.name">Raspberry Pi 4B</span>
                    </div>
                    <button class="p-2 text-slate-400 hover:text-slate-600 transition-colors">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: Header -->

    <!-- @COMPONENT: MainDashboard [main content area] -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <!-- @COMPONENT: StatusOverview [system status cards] -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- @COMPONENT: StatusCard [individual metric card] -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                        <div class="p-2 bg-red-100 rounded-lg">
                            <i class="fas fa-thermometer-half text-red-600"></i>
                        </div>
                        <h3 class="text-sm font-medium text-slate-700">Temperature</h3>
                    </div>
                    <div class="flex items-center space-x-1 text-xs text-hydro-primary">
                        <i class="fas fa-arrow-up"></i>
                        <span data-bind="temperature.trend">+0.5°</span>
                    </div>
                </div>
                <div class="space-y-1">
                    <div class="text-2xl font-semibold text-slate-900" data-bind="temperature.current">24.2°C</div>
                    <div class="text-xs text-slate-500">Optimal: 22-26°C</div>
                </div>
            </div>
            <!-- @END_COMPONENT: StatusCard -->

            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                        <div class="p-2 bg-blue-100 rounded-lg">
                            <i class="fas fa-tint text-blue-600"></i>
                        </div>
                        <h3 class="text-sm font-medium text-slate-700">Humidity</h3>
                    </div>
                    <div class="flex items-center space-x-1 text-xs text-slate-500">
                        <i class="fas fa-minus"></i>
                        <span data-bind="humidity.trend">-2%</span>
                    </div>
                </div>
                <div class="space-y-1">
                    <div class="text-2xl font-semibold text-slate-900" data-bind="humidity.current">68%</div>
                    <div class="text-xs text-slate-500">Optimal: 60-70%</div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                        <div class="p-2 bg-purple-100 rounded-lg">
                            <i class="fas fa-flask text-purple-600"></i>
                        </div>
                        <h3 class="text-sm font-medium text-slate-700">pH Level</h3>
                    </div>
                    <div class="flex items-center space-x-1 text-xs text-hydro-warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>Alert</span>
                    </div>
                </div>
                <div class="space-y-1">
                    <div class="text-2xl font-semibold text-slate-900" data-bind="ph.current">7.2</div>
                    <div class="text-xs text-slate-500">Optimal: 5.5-6.5</div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                        <div class="p-2 bg-hydro-primary/10 rounded-lg">
                            <i class="fas fa-water text-hydro-primary"></i>
                        </div>
                        <h3 class="text-sm font-medium text-slate-700">Water Level</h3>
                    </div>
                    <div class="flex items-center space-x-1 text-xs text-hydro-primary">
                        <i class="fas fa-check-circle"></i>
                        <span>Good</span>
                    </div>
                </div>
                <div class="space-y-1">
                    <div class="text-2xl font-semibold text-slate-900" data-bind="water.current">85%</div>
                    <div class="text-xs text-slate-500">Minimum: 20%</div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: StatusOverview -->

        <!-- @COMPONENT: ChartsSection [historical data visualization] -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- @COMPONENT: TemperatureChart [temperature trend chart] -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-semibold text-slate-900">Temperature Trend</h3>
                    <div class="flex items-center space-x-2">
                        <!-- @COMPONENT: TimeRangeSelector [filter buttons] -->
                        <button class="px-3 py-1 text-xs font-medium text-hydro-primary bg-hydro-primary/10 rounded-md" data-event="click:setTimeRange('24h')">24H</button>
                        <button class="px-3 py-1 text-xs font-medium text-slate-600 hover:text-slate-900 rounded-md" data-event="click:setTimeRange('7d')">7D</button>
                        <button class="px-3 py-1 text-xs font-medium text-slate-600 hover:text-slate-900 rounded-md" data-event="click:setTimeRange('30d')">30D</button>
                        <!-- @END_COMPONENT: TimeRangeSelector -->
                    </div>
                </div>
                <div class="h-64">
                    <canvas id="temperatureChart" data-implementation="Chart.js line chart with temperature data"></canvas>
                </div>
            </div>
            <!-- @END_COMPONENT: TemperatureChart -->

            <!-- @COMPONENT: MultiMetricChart [combined metrics chart] -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-semibold text-slate-900">Multi-Metric View</h3>
                    <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-2 text-xs">
                            <div class="w-3 h-3 bg-red-500 rounded-sm"></div>
                            <span class="text-slate-600">Temperature</span>
                        </div>
                        <div class="flex items-center space-x-2 text-xs">
                            <div class="w-3 h-3 bg-blue-500 rounded-sm"></div>
                            <span class="text-slate-600">Humidity</span>
                        </div>
                        <div class="flex items-center space-x-2 text-xs">
                            <div class="w-3 h-3 bg-purple-500 rounded-sm"></div>
                            <span class="text-slate-600">pH</span>
                        </div>
                    </div>
                </div>
                <div class="h-64">
                    <canvas id="multiMetricChart" data-implementation="Chart.js multi-axis chart with normalized data"></canvas>
                </div>
            </div>
            <!-- @END_COMPONENT: MultiMetricChart -->
        </div>
        <!-- @END_COMPONENT: ChartsSection -->

        <!-- @COMPONENT: DetailedDataSection [tables and export] -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- @COMPONENT: RecentReadings [tabular data display] -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-semibold text-slate-900">Recent Readings</h3>
                    <button class="flex items-center space-x-1 px-3 py-1.5 text-sm text-hydro-primary hover:bg-hydro-primary/5 rounded-md transition-colors" data-event="click:exportData()">
                        <i class="fas fa-download text-xs"></i>
                        <span>Export</span>
                    </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full">
                        <thead>
                            <tr class="border-b border-slate-200">
                                <th class="text-left text-xs font-medium text-slate-500 uppercase tracking-wider pb-3">Time</th>
                                <th class="text-left text-xs font-medium text-slate-500 uppercase tracking-wider pb-3">Temp</th>
                                <th class="text-left text-xs font-medium text-slate-500 uppercase tracking-wider pb-3">Humidity</th>
                                <th class="text-left text-xs font-medium text-slate-500 uppercase tracking-wider pb-3">pH</th>
                                <th class="text-left text-xs font-medium text-slate-500 uppercase tracking-wider pb-3">Water</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-100">
                            <!-- @MAP: recentReadings.map(reading => ( -->
                            <tr data-mock="true">
                                <td class="py-3 text-sm text-slate-600" data-bind="reading.timestamp">14:30</td>
                                <td class="py-3 text-sm text-slate-900" data-bind="reading.temperature">24.2°C</td>
                                <td class="py-3 text-sm text-slate-900" data-bind="reading.humidity">68%</td>
                                <td class="py-3 text-sm text-slate-900" data-bind="reading.ph">7.2</td>
                                <td class="py-3 text-sm text-slate-900" data-bind="reading.water">85%</td>
                            </tr>
                            <tr data-mock="true">
                                <td class="py-3 text-sm text-slate-600">14:25</td>
                                <td class="py-3 text-sm text-slate-900">24.0°C</td>
                                <td class="py-3 text-sm text-slate-900">70%</td>
                                <td class="py-3 text-sm text-slate-900">7.1</td>
                                <td class="py-3 text-sm text-slate-900">86%</td>
                            </tr>
                            <tr data-mock="true">
                                <td class="py-3 text-sm text-slate-600">14:20</td>
                                <td class="py-3 text-sm text-slate-900">23.8°C</td>
                                <td class="py-3 text-sm text-slate-900">71%</td>
                                <td class="py-3 text-sm text-slate-900">7.0</td>
                                <td class="py-3 text-sm text-slate-900">87%</td>
                            </tr>
                            <tr data-mock="true">
                                <td class="py-3 text-sm text-slate-600">14:15</td>
                                <td class="py-3 text-sm text-slate-900">23.9°C</td>
                                <td class="py-3 text-sm text-slate-900">69%</td>
                                <td class="py-3 text-sm text-slate-900">6.9</td>
                                <td class="py-3 text-sm text-slate-900">88%</td>
                            </tr>
                            <tr data-mock="true">
                                <td class="py-3 text-sm text-slate-600">14:10</td>
                                <td class="py-3 text-sm text-slate-900">23.7°C</td>
                                <td class="py-3 text-sm text-slate-900">68%</td>
                                <td class="py-3 text-sm text-slate-900">6.8</td>
                                <td class="py-3 text-sm text-slate-900">89%</td>
                            </tr>
                            <!-- @END_MAP )) -->
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- @END_COMPONENT: RecentReadings -->

            <!-- @COMPONENT: SystemInfo [system status and controls] -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <h3 class="text-lg font-semibold text-slate-900 mb-6">System Information</h3>
                
                <div class="space-y-6">
                    <!-- @COMPONENT: ConnectionStatus [API connection info] -->
                    <div class="border-b border-slate-100 pb-4">
                        <h4 class="text-sm font-medium text-slate-700 mb-3">Connection Status</h4>
                        <div class="space-y-2">
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-slate-600">Antares API</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-2 h-2 bg-hydro-primary rounded-full"></div>
                                    <span class="text-sm text-hydro-primary font-medium" data-bind="api.status">Connected</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-slate-600">Last Update</span>
                                <span class="text-sm text-slate-900" data-bind="api.lastUpdate">2 minutes ago</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-slate-600">Data Points</span>
                                <span class="text-sm text-slate-900" data-bind="api.dataPoints">1,247</span>
                            </div>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: ConnectionStatus -->

                    <!-- @COMPONENT: DeviceInfo [Raspberry Pi info] -->
                    <div class="border-b border-slate-100 pb-4">
                        <h4 class="text-sm font-medium text-slate-700 mb-3">Device Information</h4>
                        <div class="space-y-2">
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-slate-600">CPU Usage</span>
                                <span class="text-sm text-slate-900" data-bind="device.cpu">23%</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-slate-600">Memory</span>
                                <span class="text-sm text-slate-900" data-bind="device.memory">1.2GB / 4GB</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-slate-600">Storage</span>
                                <span class="text-sm text-slate-900" data-bind="device.storage">8.3GB / 32GB</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-slate-600">Uptime</span>
                                <span class="text-sm text-slate-900" data-bind="device.uptime">3d 14h 22m</span>
                            </div>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: DeviceInfo -->

                    <!-- @COMPONENT: AlertSettings [notification preferences] -->
                    <div>
                        <h4 class="text-sm font-medium text-slate-700 mb-3">Alert Settings</h4>
                        <div class="space-y-3">
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" checked class="w-4 h-4 text-hydro-primary border-slate-300 rounded focus:ring-hydro-primary focus:ring-offset-0" data-implementation="Should save alert preferences">
                                <span class="text-sm text-slate-600">Temperature alerts</span>
                            </label>
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" checked class="w-4 h-4 text-hydro-primary border-slate-300 rounded focus:ring-hydro-primary focus:ring-offset-0">
                                <span class="text-sm text-slate-600">pH level warnings</span>
                            </label>
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" class="w-4 h-4 text-hydro-primary border-slate-300 rounded focus:ring-hydro-primary focus:ring-offset-0">
                                <span class="text-sm text-slate-600">Water level notifications</span>
                            </label>
                            <button class="w-full mt-4 px-4 py-2 bg-hydro-primary text-white text-sm font-medium rounded-lg hover:bg-hydro-secondary transition-colors" data-event="click:saveAlertSettings()">
                                Save Settings
                            </button>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: AlertSettings -->
                </div>
            </div>
            <!-- @END_COMPONENT: SystemInfo -->
        </div>
        <!-- @END_COMPONENT: DetailedDataSection -->
    </main>
    <!-- @END_COMPONENT: MainDashboard -->

    <!-- @COMPONENT: Footer [system footer] -->
    <footer class="bg-white border-t border-slate-200 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="flex flex-col sm:flex-row items-center justify-between space-y-2 sm:space-y-0">
                <div class="text-sm text-slate-600">
                    © 2024 HydroMonitor - Raspberry Pi Hydroponic System
                </div>
                <div class="flex items-center space-x-4 text-sm text-slate-500">
                    <span data-bind="system.version">v1.2.0</span>
                    <span>•</span>
                    <a href="#" class="hover:text-slate-700 transition-colors">Documentation</a>
                    <span>•</span>
                    <a href="#" class="hover:text-slate-700 transition-colors">Support</a>
                </div>
            </div>
        </div>
    </footer>
    <!-- @END_COMPONENT: Footer -->

    <script>
        // TODO: Implement real-time data fetching from Antares API
        // TODO: Implement chart data updates and time range filtering
        // TODO: Implement data export functionality
        // TODO: Implement alert system and notifications
        
        (function() {
            // Initialize charts when page loads
            document.addEventListener('DOMContentLoaded', function() {
                // Mock data for temperature chart
                const tempCtx = document.getElementById('temperatureChart');
                if (tempCtx) {
                    new Chart(tempCtx, {
                        type: 'line',
                        data: {
                            labels: ['12:00', '13:00', '14:00', '15:00', '16:00', '17:00'],
                            datasets: [{
                                label: 'Temperature (°C)',
                                data: [23.5, 23.8, 24.1, 24.2, 23.9, 24.0],
                                borderColor: '#EF4444',
                                backgroundColor: 'rgba(239, 68, 68, 0.1)',
                                tension: 0.4,
                                pointRadius: 4,
                                pointHoverRadius: 6
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: false,
                                    min: 20,
                                    max: 30,
                                    grid: {
                                        color: 'rgba(0, 0, 0, 0.05)'
                                    }
                                },
                                x: {
                                    grid: {
                                        display: false
                                    }
                                }
                            }
                        }
                    });
                }

                // Mock data for multi-metric chart
                const multiCtx = document.getElementById('multiMetricChart');
                if (multiCtx) {
                    new Chart(multiCtx, {
                        type: 'line',
                        data: {
                            labels: ['12:00', '13:00', '14:00', '15:00', '16:00', '17:00'],
                            datasets: [{
                                label: 'Temperature (°C)',
                                data: [23.5, 23.8, 24.1, 24.2, 23.9, 24.0],
                                borderColor: '#EF4444',
                                tension: 0.4,
                                yAxisID: 'y'
                            }, {
                                label: 'Humidity (%)',
                                data: [65, 68, 70, 68, 69, 67],
                                borderColor: '#3B82F6',
                                tension: 0.4,
                                yAxisID: 'y1'
                            }, {
                                label: 'pH',
                                data: [6.8, 6.9, 7.0, 7.1, 7.2, 7.1],
                                borderColor: '#8B5CF6',
                                tension: 0.4,
                                yAxisID: 'y2'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            interaction: {
                                mode: 'index',
                                intersect: false,
                            },
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                x: {
                                    display: true,
                                    grid: {
                                        display: false
                                    }
                                },
                                y: {
                                    type: 'linear',
                                    display: false,
                                    position: 'left',
                                },
                                y1: {
                                    type: 'linear',
                                    display: false,
                                    position: 'right',
                                },
                                y2: {
                                    type: 'linear',
                                    display: false,
                                    position: 'right',
                                }
                            }
                        }
                    });
                }
            });

            // Mock function for time range selection
            window.setTimeRange = function(range) {
                // TODO: Implement actual time range filtering
                console.log('Setting time range to:', range);
                
                // Update active button styling
                document.querySelectorAll('[data-event*="setTimeRange"]').forEach(btn => {
                    btn.classList.remove('text-hydro-primary', 'bg-hydro-primary/10');
                    btn.classList.add('text-slate-600');
                });
                
                event.target.classList.remove('text-slate-600');
                event.target.classList.add('text-hydro-primary', 'bg-hydro-primary/10');
            };

            // Mock function for data export
            window.exportData = function() {
                // TODO: Implement actual data export functionality
                alert('Export functionality will be implemented with backend integration');
            };

            // Mock function for saving alert settings
            window.saveAlertSettings = function() {
                // TODO: Implement actual settings persistence
                alert('Alert settings saved successfully');
            };
        })();
    </script>
</body>
</html>